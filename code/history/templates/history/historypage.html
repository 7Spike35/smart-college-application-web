<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>历史查询记录</title>
    <link rel="stylesheet" href="{% static 'css/history.css' %}"/>
    <script type="text/javascript">
// 假设你有一个函数updateTable()来执行AJAX请求并更新表格
function updateTable() {
    $.ajax({
        url: 'path_to_your_php_script.php', // PHP脚本的URL
        type: 'GET',
        success: function(data) {
            $('#your_table_container').html(data); // 假设你的表格被包裹在一个ID为your_table_container的元素中
        },
        error: function() {
            alert('Error updating table!');
        }
    });
}

// 每隔一定时间（例如5秒）更新一次表格
setInterval(updateTable, 5000);
    

</script>
</head>
<body background="{% static 'png/history.png' %}" background-size:100% 100%;>
    <div class="container">
        <nav class="sidebar">
  <ul>
    <li><a href="{% url 'home' %}">首页</a></li>
    <li><a href="{% url 'history' %}">历史分析记录</a></li>
    <li class="dropdown">
      <a href="#">获取分析结果</a>
      <ul class="submenu">
          <li><a href="{% url 'info' %}">信息收集</a></li>
          <li><a href="{% url 'questions' %}">问题页</a></li>
      </ul>
    </li>
  </ul>
</nav>
<table id="历史查询记录">
    <tr>
        <th>年份</th>
        <th>省份</th>
        <th>id</th>
        <th>成绩</th>
        <th>位次</th>
        <th>兴趣</th>
        <th>结果</th>
                    <?php include 'db_script.php'; ?> <!-- 引入PHP脚本以显示数据 -->

    </tr>

    <!-- 动态行将在这里插入 -->
       <tr><td>数据1</td><td>数据2</td><td>数据3</td><td>数据4</td><td>数据5</td><td>数据6</td><td>数据7</td></tr>
        <tr><td>数据1</td><td>数据2</td><td>数据3</td><td>数据4</td><td>数据5</td><td>数据6</td><td>数据7</td></tr>
        <tr><td>数据1</td><td>数据2</td><td>数据3</td><td>数据4</td><td>数据5</td><td>数据6</td><td>数据7</td></tr>
        <tr><td>数据1</td><td>数据2</td><td>数据3</td><td>数据4</td><td>数据5</td><td>数据6</td><td>数据7</td></tr>
        <tr><td>数据1</td><td>数据2</td><td>数据3</td><td>数据4</td><td>数据5</td><td>数据6</td><td>数据7</td></tr>
        <tr><td>数据1</td><td>数据2</td><td>数据3</td><td>数据4</td><td>数据5</td><td>数据6</td><td>数据7</td></tr>
        <tr><td>数据1</td><td>数据2</td><td>数据3</td><td>数据4</td><td>数据5</td><td>数据6</td><td>数据7</td></tr>
</table>
        <main class="content">
            <h1></h1>
            <p></p>
        </main>
    </div>
</body>
</html>